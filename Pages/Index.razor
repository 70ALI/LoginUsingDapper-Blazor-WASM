@page "/"
@layout NoMenuLayout
@using BlazorAppLogin.Dtos;
@inject IUserService userService
@inject NavigationManager navigationManager


<div class="text-center">
	<h1>Login</h1>
</div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<EditForm Model="@logn" class="form-text" OnSubmit="HandleSubmit">
	<div class="text-center">
		<label for="email">Enter the ID :</label><br>
		<input type="text" id="email" name="email" @bind-value="logn.Email" placeholder="Email..." required><br>
				<label for="pwd">Password:</label><br>
		<input type="password" id="pwd" name="pwd" @bind-value="logn.Password" placeholder="Password..." required>
		<div class="text-center">
			<div class="top-row px-4">
				<a href="/register">Register</a>
			</div>
		</div><br><br />
		<div class="text-center">
			<input type="submit" class="btn btn-primary" value="Submit" />
		</div>
		<br /><br />
	</div>
	</EditForm>


@code {
	public LoginDto logn { get; set; } = new LoginDto();
	async Task HandleSubmit()
	{
		await userService.GetSingleUser(logn);
	}
}